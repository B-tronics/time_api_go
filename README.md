# About The Project

This small application written in GO is a webservice, which exposes two endpoints for the clients to save a timestamp in the format of `hh:mm:ss`. The project adheres to the following requirements:

- *Stores one user-provided unix timestamp (\*time.Time) in memory.* 
    - The data structure responsible is the `TimeStampManager`.

- *The service must have two endpoints, one for saving the timestamp and an other to fetch it.*
    - The endpoints are defined during the server instatiation in the `runServer` functions where the endpoints handlers attached (`handleRootPOST` and `handleRootGET`) 

- *The only allowed content type on the service side is `text/plain` for both in and
egress communications.* 
    - This is done by explicity checking the incoming request `Content-Type` header value and responding with `HTTP: 400` if the value is other than `text-plain`.

- *The service must take care of data races (concurrent read-write requests on the
timestamp), but mutexes are not allowed.* 
    - The `TimeStampManager` defines `channels` for update and read operations which ensures that concurrent Read/Write operations always leave the currently stored timestamp in valid state. The `run` is a receiver function of the `TimeStampManager` struct which handles the update and read events done by `UpdateTimeStamp` and `GetTimeStamp`.

- *In the same process where the service is running, a call for the client side first stores a timestamp and then reads it back.*
    - The two funtions defined to mimic the these two client operations are `postTimeStamp` and `getTimeStamp`. These two functions called in the `main` function after starting the server in a separate `GO routine`. After the client code finishes the server remains operational.

- *The only output of the application on the standard out (in normal cases) must be
the timestamp which it has read in the second step.*
    - Only when an error occures (e.g. wrong time format in the request, wrong Content-Type etc.) an error log is generated. The standard output is generated by the client code after receiving the timestamp correctly.

- *The output of the exercise has to be two source files (main.go and
main_test.go). The result must run by executing go run main.go command.*

- *Test coverage needs to reach at least 2%, maximum allowed coverage is 100%.*
    - coverage: 51.4% of statements


# Prerequisites
Go (version 1.20+)

Install Go from the official Go installation page or via a package manager for your operating system:
```
# Ubuntu/Debian
sudo apt update
sudo apt install golang

# macOS using Homebrew
brew install go

# Windows
winget install golang

```

# Usage

1. Run the project
```
go run main.go
```

2. Run the tests
```
go test main_test.go
```

3. If the application alread started you can test the APIs with e.g. `curl`
```
# GET request for latest timestamp

curl --header "Content-Type: text/plain" localhost:8080

# POST request to store new timestamp
curl -X POST --data "<hh:mm:ss>" --header "Content-Type: text/plain" localhost:8080
```